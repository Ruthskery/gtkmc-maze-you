<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Get To Know My Crush ðŸ’–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <meta name="mobile-web-app-capable" content="yes" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Input Name -->
  <link rel="stylesheet" href="css/inputName.css">

  <!-- Conversation Box -->
  <link rel="stylesheet" href="css/conversationBox.css">

</head>

<body class="h-full flex items-center justify-center
             bg-gradient-to-br from-pink-200 via-rose-100 to-purple-200
             text-pink-900">

    <!-- Input Name Screen -->
    <div id="inputNameScreen" class="input-name-overlay">

      <div class="input-name-card">
        <h2>Hi there ðŸ’•</h2>
        <p>Whatâ€™s your name?</p>

        <input
          id="inputNameInput"
          class="input-name-input"
          type="text"
          maxlength="16"
          autocomplete="off"
        />

        <div id="inputNameError" class="input-name-error"></div>

        <button
          id="inputNameButton"
          class="input-name-button">
          Start ðŸ’–
        </button>
      </div>

    </div>


  <div class="w-full max-w-5xl px-2 sm:px-4 py-4 sm:py-6 space-y-4 sm:space-y-6">

    <!-- Title -->
    <div class="text-center space-y-1">
      <h1 class="text-2xl sm:text-3xl font-semibold">Choose Your Path ðŸ’•</h1>
      <p class="subtitle text-pink-600 text-xs sm:text-sm">
        Let's see what kind of crush you are ðŸŒ¸
      </p>
    </div>

    <!-- Main Layout -->
    <div class="grid grid-cols-1 md:grid-cols-[1fr_260px] gap-4 sm:gap-6 items-start md:items-center justify-items-center md:justify-items-stretch">

      <!-- Maze -->
      <div class="flex justify-center items-center w-full">
        <div class="game-card">
            <canvas id="mazeCanvas"></canvas>
        </div>
      </div>

      <!-- Right Panel -->
      <div class="flex flex-col items-center gap-6">

        <!-- Controls -->
        <div class="flex flex-col items-center gap-2 select-none">
          <div class="relative w-32 h-32 sm:w-28 sm:h-28">

            <button data-dir="up"
              class="arrow absolute top-0 left-1/2 -translate-x-1/2
                     w-12 h-12 sm:w-10 sm:h-10 rounded-xl bg-pink-300
                     text-pink-900 font-bold shadow
                     hover:bg-pink-400 active:scale-95
                     touch-manipulation">
              â–²
            </button>

            <button data-dir="left"
              class="arrow absolute left-0 top-1/2 -translate-y-1/2
                     w-12 h-12 sm:w-10 sm:h-10 rounded-xl bg-pink-300
                     text-pink-900 font-bold shadow
                     hover:bg-pink-400 active:scale-95
                     touch-manipulation">
              â—€
            </button>

            <button data-dir="right"
              class="arrow absolute right-0 top-1/2 -translate-y-1/2
                     w-12 h-12 sm:w-10 sm:h-10 rounded-xl bg-pink-300
                     text-pink-900 font-bold shadow
                     hover:bg-pink-400 active:scale-95
                     touch-manipulation">
              â–¶
            </button>

            <button data-dir="down"
              class="arrow absolute bottom-0 left-1/2 -translate-x-1/2
                     w-12 h-12 sm:w-10 sm:h-10 rounded-xl bg-pink-300
                     text-pink-900 font-bold shadow
                     hover:bg-pink-400 active:scale-95
                     touch-manipulation">
              â–¼
            </button>
          </div>

          <p class="text-xs text-pink-600">Move ðŸ’«</p>
        </div>
        
      </div>
    </div>
  </div>

  <!-- Result Screen -->
  <div id="resultScreen"
       class="fixed inset-0 bg-pink-100/90 backdrop-blur
              hidden z-50 flex items-center justify-center p-4">

    <div class="bg-white/70 rounded-2xl sm:rounded-3xl p-4 sm:p-6 w-full max-w-md
                shadow-[0_30px_80px_rgba(236,72,153,0.4)]
                space-y-3 sm:space-y-4 text-center max-h-[90vh] overflow-y-auto">

      <h2 class="text-xl sm:text-2xl font-semibold">Your Crush Result ðŸ’–</h2>

      <p id="resultText" class="text-pink-700 text-xs sm:text-sm"></p>

      <ul id="resultList" class="space-y-2 text-xs sm:text-sm"></ul>

      <button id="restartBtn"
              class="w-full mt-4 py-3 sm:py-2 rounded-xl
                     bg-pink-400 hover:bg-pink-500
                     text-white font-semibold active:scale-95
                     touch-manipulation min-h-[44px]">
        Play Again ðŸ’•
      </button>
    </div>
  </div>

  <!-- Conversation Box -->
  <div id="conversationBox" class="conversation-overlay">
    <div id="conversationCard" class="conversation-card">

      <div id="conversationRow" class="conversation-row her">

        <!-- COLUMN 1 -->
        <div class="conversation-col avatar-col">
          <img id="conversationAvatar"
              class="conversation-avatar"
              alt="avatar">
        </div>

        <!-- COLUMN 2 -->
        <div class="conversation-col message-col">
          <p id="speakerLabel" class="conversation-speaker"></p>
          <p id="messageText" class="conversation-text"></p>
          <p id="tapHint" class="tap-hint hidden">tap to continue â–¸</p>
        </div>

      </div>

      <div id="conversationOptions" class="conversation-options"></div>
    </div>
  </div>


  <script type="module" src="js/inputName.js"></script>
  <script type="module" src="js/conversation.js"></script>

</body>
</html>
